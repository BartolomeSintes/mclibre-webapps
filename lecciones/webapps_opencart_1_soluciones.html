<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Soluciones (1). OpenCart. Aplicaciones web. Bartolomé Sintes Marco</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="../varios/webapps.css" rel="stylesheet" type="text/css" title="Color" />
    <link rel="icon" href="../varios/favicon.ico" />
  </head>

  <body>
    <h1>OpenCart. Soluciones (1)</h1>

    <nav>
      <p>
        <a href="../index.html"><img src="../varios/iconos/icono_webapps.svg" alt="Índice de WebApps" title="Índice de WebApps" width="48" height="31" /></a>
        <a href="#"><img src="../varios/iconos/icono_arrow_circle_up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36" /></a>
      </p>

      <div class="toc">
        <h2>
          <a href="webapps_opencart.html"><img src="../varios/iconos/icono_flecha_izquierda.svg" alt="Anterior" title="Anterior" width="15" height="18" /></a>
          OpenCart (1)
          <a href="webapps_opencart_2.html"><img src="../varios/iconos/icono_flecha_derecha.svg" alt="Siguiente" title="Siguiente" width="15" height="18" /></a>
        </h2>

        <h3><a href="webapps_opencart_1.html">Enunciados</a></h3>
        <ul>
          <li><a href="webapps_opencart_1.html#ejercicio-1">1 - Descargar</a></li>
          <li><a href="webapps_opencart_1.html#ejercicio-2">2 - Instalar</a></li>
          <li><a href="webapps_opencart_1.html#ejercicio-3">3 - Entrar</a></li>
          <li><a href="webapps_opencart_1.html#ejercicio-4">4 - Traducir al español</a></li>
          <li><a href="webapps_opencart_1.html#ejercicio-5">5 - Copias de seguridad</a></li>
          <li><a href="webapps_opencart_1.html#ejercicio-6">6 - Acceder desde otros</a></li>
          <li><a href="webapps_opencart_1.html#ejercicio-7">7 - Actualizar</a></li>
        </ul>

        <h3>Soluciones</h3>
        <ul>
          <li><a href="#ejercicio-1">1 - Descargar</a></li>
          <li><a href="#ejercicio-2">2 - Instalar</a></li>
          <li><a href="#ejercicio-3">3 - Entrar</a></li>
          <li><a href="#ejercicio-4">4 - Traducir al español</a></li>
          <li><a href="#ejercicio-5">5 - Copias de seguridad</a></li>
          <li><a href="#ejercicio-6">6 - Acceder desde otros</a></li>
          <li><a href="#ejercicio-7">7 - Actualizar</a></li>
        </ul>
      </div>
    </nav>

    <p>En esta lección se proponen soluciones detalladas de los <a href="webapps_opencart_1.html">ejercicios (1) de OpenCart</a>. Se recomienda intentar realizarlos primero sin recurrir a estas soluciones.</p>

    <section id="ejercicio-1">
      <h2>OpenCart (1) 1 - Descargar</h2>

      <ol>
        <li>La página web de OpenCart es <a href="https://www.opencart.com/">https://www.opencart.com/</a>.</li>
        <li>La página web de descarga de OpenCart es <a href="https://www.opencart.com/index.php?route=cms/download">https://www.opencart.com/index.php?route=cms/download</a>.
          <p>OpenCart es software libre que se distribuye bajo la licencia GPL 3.0.</p>
          <p>OpenCart se distribuye en forma de archivo comprimido zip.</p>
          <p>Como en la página web del programa se encuentra la última versión OpenCart 2.3.X.Y, las versiones <strong>OpenCart 2.3.0.1</strong> y <strong>OpenCart 2.3.0.2</strong> (en inglés) se pueden descargar
          <ul>
            <li>del <a href="https://github.com/opencart/opencart/releases">repositorio GitHub de OpenCart</a>:
              <a href="https://github.com/opencart/opencart/releases/download/2.3.0.1/2.3.0.1-compiled.zip">openCart 2.3.0.1 (31/07/16)</a>
              <a href="https://github.com/opencart/opencart/releases/download/2.3.0.2/2.3.0.2-compiled.zip">openCart 2.3.0.2 (01/08/16)</a>
              .</li>
            <li>desde la página de <a href="../otros/descarga_aplicaciones.html">Descarga de aplicaciones</a> de estos apuntes.</li>
          </ul>
        </li>
      </ol>
    </section>

    <section id="ejercicio-2">
      <h2>OpenCart (1) 2 - Instalar</h2>

      <p>Referencias:</p>
      <ul>
        <li>Web de documentación de OpenCart: <a href="http://docs.opencart.com/">http://docs.opencart.com/</a></li>
        <li>Archivo install.txt que se encuentra en el archivo comprimido de OpenCart.</li>
      </ul>

      <hr class="corta" />

      <p>En este ejercicio se pide hacer dos instalaciones de OpenCart (una para consulta y otra para modificación). Se explica aquí la instalación para modificación. La instalación para consulta se realiza mediante el mismo procedimiento, salvo el directorio de instalación (que será <strong>opencart_0</strong> en vez de <strong>opencart</strong>) y el usuario, contraseña y base de datos en MySQL (que será <strong>iaw_opencart_0</strong> en vez de <strong>iaw_opencart_1</strong>).</p>
      <ul>
        <li>Una vez descargado OpenCart, descomprima el archivo descargado en una carpeta y copie el contenido de la carpeta <strong>upload</strong> en una carpeta accesible desde el servidor local. La carpeta descomprimida sin la carpeta upload se podrá borrar posteriormente una vez consultados los ficheros de ayuda a la instalación.
          <p>En estas soluciones, de acuerdo con las <a href="../otros/configuracion.html">recomendaciones de configuración general</a> de estos apuntes, se supondrá que:</p>
          <ul>
            <li>OpenCart se encuentra en la carpeta <strong><strong>:</strong></strong>
              <p><strong><strong>Mis documentos &gt; IAW Nombre-de-alumno &gt; Aplicaciones &gt; opencart</strong></strong></p>
            </li>
            <li>al ejecutar desde Eclipse el fichero <strong>index.php</strong> de OpenCart, se abrirá en el navegador la dirección
              <p><strong>http://localhost/nombre-de-alumno/webapps/opencart/index.php</strong></p>
            </li>
          </ul>
        </li>
        <li>Cree con phpMyAdmin un usuario de MySQL con nombre <strong>iaw_opencart_1</strong>, contraseña <strong>iaw_opencart_1</strong> y base de datos <strong>iaw_opencart_1</strong>.
          <p class="captura"><img alt="OpenCart. Creación de usuario en phpMyAdmin" src="../img/opencart/1_2_s_1_phpmyadmin.png" width="600" height="550" /></p>
        </li>
        <li>Siga las instrucciones de instalación incluidas en OpenCart.</li>
        <li>Renombre los archivos <strong>config-dist.php</strong> y <strong>admin/config-dist.php</strong> como <strong>config.php</strong> and <strong>admin/config.php</strong>, respectivamente.</li>
        <li>Abra <strong>opencart/index.php</strong> en el navegador. OpenCart detecta que existe el directorio <strong>/opencart/install</strong> y que es necesario utilizar el asistente de instalación, que se inicia automáticamente:</li>
        <li>A continuación se comentan las opciones a elegir distintas de las predeterminadas en los pasos del instalador:
          <ol>
            <li>License agreement
              <p>OpenCart se distribuye bajo la licencia GLP 3. Si se acepta la licencia, hacer clic en el botón Continue para seguir la instalación.</p>
              <p class="captura"><img alt="OpenCart. Instalación" src="../img/opencart/1_2_s_2_instalacion.png" width="960" height="510" /></p>
            </li>
            <li>Pre-installation
              <p>OpenCart indica si el sistema permite la instalación de OpenCart.</p>
              <p class="captura"><img alt="OpenCart. Instalación" src="../img/opencart/1_2_s_3_instalacion.png" width="991" height="575" /></p>
              <p>Si falta alguna extensión de PHP, será necesario activarla. Por ejemplo, si no estuviera activada la extensión cURL:</p>
              <p class="captura"><img alt="OpenCart. Instalación. Pre-Installation" src="../img/opencart/1_2_s_4_instalacion.png" width="991" height="340" /></p>
              <p>Las extensiones se activan en el archivo <strong>php.ini</strong> del servidor (no el archivo <strong>php.ini</strong> que hay en la carpeta de OpenCart):</p>

              <div class="codphp">
                <pre>/* php.ini */
 ...
extension=php_curl.dll
 ...
extension=php_gd2.dll
 ...
extension=php_mysql.dll
 ...</pre>
              </div>
              <p>Una vez reiniciado Apache, al actualizar la página se podrá ver si todo está correcto:</p>
              <p class="captura"><img alt="OpenCart. Instalación. Pre-Installation" src="../img/opencart/1_2_s_5_instalacion.png" width="991" height="340" /></p>
            </li>
            <li>Configuration
              <p>DB Driver: <span class="resaltado">mPDO</span></p>
              <p>Database host: <span class="resaltado">localhost</span></p>
              <p>User: <span class="resaltado">iaw_opencart_1</span></p>
              <p>Password: <span class="resaltado">iaw_opencart_1</span></p>
              <p>Database name: <span class="resaltado">iaw_opencart_1</span></p>
              <p>Username: <span class="resaltado">admin</span></p>
              <p>Password: <span class="resaltado">admin</span></p>
              <p>E-Mail: <span class="resaltado">admin@example.com</span></p>
              <p class="captura"><img alt="OpenCart. Instalación." src="../img/opencart/1_2_s_6_instalacion.png" width="991" height="725" /></p>
            </li>
          </ol>
        </li>
        <li>Si todo ha ido bien, se mostrará la página final del asistente de instalación:
          <p class="captura"><img alt="OpenCart. Instalación. Fin de la instalación" src="../img/opencart/1_2_s_7_instalacion.png" width="990" height="490" /></p>
        </li>
        <li>Al terminar la instalación, se puede cerrar la ventana del navegador, pero antes de abrir nuevamente OpenCart, es <strong>necesario</strong> borrar el directorio <strong>opencart/install</strong>.</li>
      </ul>
    </section>

    <section id="ejercicio-3">
      <h2>OpenCart (1) 3 - Entrar</h2>

      <p>En este ejercicio se pide comprobar que OpenCart funciona y que se puede abrir una sesión como usuario administrador.</p>

      <hr class="corta" />
      <ul>
        <li>Si no existe el directorio <strong>/opencart/install</strong>, al abrir <strong>opencart/index.php</strong> en el navegador se mostrará la página principal de OpenCart (en inglés):
          <p class="captura"><img alt="OpenCart. Inicio" src="../img/opencart/1_3_s_1_inicio.jpg" width="450" height="661" /></p>
        </li>
      </ul>
      <ul>
        <li>Para entrar como usuario administrador abra la dirección <strong>/opencart/admin</strong>. Se mostrará la página principal del usuario administrador.
          <p class="captura"><img alt="OpenCart. Inicio. Usuario administrador" src="../img/opencart/1_3_s_2_inicio_admin.png" width="450" height="380" /></p>
        </li>
        <li>Entre como usuario <strong>admin</strong> y contraseña <strong>admin</strong> y se mostrará el Panel de Control de Administración:</li>
        <li>class="captura"<img alt="OpenCart. Inicio. Usuario adminstrador" src="../img/opencart/1_3_s_3_inicio_admin.png" width="991" height="460" /></li>
        <li>Para cerrar la sesión en OpenCart como usuario registrado, hay que hacer clic en Logout.</li>
      </ul>
    </section>

    <section id="ejercicio-4">
      <h2>OpenCart (1) 4 - Traducir al español</h2>

      <p>En este ejercicio se pide instalar la traducción al español y configurar ese idioma para los usuarios. Para simplificar las actividades posteriores, se eliminará el idioma inglés.</p>

      <p>Referencias:</p>
      <ul>
        <li>Archivo leeme.txt que se encuentra en el archivo comprimido de la traducción.</li>
      </ul>
      <ol>
        <li><strong>Añadir el idioma español </strong>
          <ul>
            <li>Descargar y copiar del paquete de idioma
              <ul>
                <li>El paquete original de OpenCart está en inglés. Para que OpenCart esté en español, es necesario descargar un archivo de traducción adicional.
                  <p>Actualmente (diciembre de 2016) existen varias versiones de la traducción al español, una gratuita y otras de pago. Se pueden buscar las versiones gratuitas en <a href="https://www.opencart.com/index.php?route=marketplace/extension&filter_search=spanish&filter_category_id=2">https://www.opencart.com/index.php?route=marketplace/extension&amp;filter_search=spanish&amp;filter_category_id=2</a></p>
                  <p>En estas soluciones se ha utilizado la traducción llamada <a href="https://www.opencart.com/index.php?route=marketplace/extension/info&extension_id=24294">Spanish opencart</a>, para la versión OpenCart 2.3.0.X.</p>
                  <p><strong>Nota</strong>: Si no hay disponible ninguna traducción, en la <a href="../otros/descarga_aplicaciones.html">página de descarga de aplicaciones</a> se puede descargar un versión que estuvo disponible a principios de diciembre de 2015.</p>
                </li>
                <li>Al descomprimir el archivo descargado, se obtienen dos carpetas <strong>/admin/language/es-es</strong> y <strong>/catalog/language/es-es</strong>, que se tienen que copiar en las carpetas <strong>/admin/language</strong> y <strong>/catalog/language</strong> respectivamente.</li>
              </ul>
            </li>
            <li>Entre en OpenCart como administrador <strong>admin</strong> y elija el menú <strong>System &gt; Localisation &gt; Languages :</strong>
              <p class="captura"><img alt="OpenCart. Traducción al español 1" src="../img/opencart/1_4_s_01_traduccion.png" width="991" height="330" /></p>
            </li>
            <li>Al hacer clic en Add new, complete la información sobre la traducción al español:
              <p>Language Name : <span class="resaltado">Español</span></p>
              <p>Code: <span class="resaltado">es</span></p>
              <p>Locale: <span class="resaltado">es_ES.UTF-8, es_ES</span></p>
              <p>Status: <span class="resaltado">Enabled</span></p>
              <p>Sort order: <span class="resaltado">2</span></p>
            </li>
            <li>Al hacer clic en Save, se mostrará el idioma español en la lista de idiomas.
              <p class="captura"><img alt="OpenCart. Traducción al español 2" src="../img/opencart/1_4_s_02_traduccion.png" width="991" height="435" /></p>
            </li>
            <li>Al abrir <strong>opencart/index.php</strong> en el navegador como usuario sin identificar se mostrará la página principal de OpenCart con las dos banderas de idiomas (español e inglés). Haciendo clic en la bandera española, se traducirán gran parte de los mensajes generales, pero no los elementos de la tienda (objetos, categorías, etc.):
              <p class="captura"><img alt="OpenCart. Traducción al español 3" src="../img/opencart/1_4_s_03_traduccion.png" width="991" height="135" /></p>
              <p class="captura"><img alt="OpenCart. Traducción al español 3" src="../img/opencart/1_4_s_04_traduccion.png" width="991" height="180" /></p>
            </li>
          </ul>
        </li>
        <li><strong>Configurar el idioma español como único idioma </strong>
          <ul>
            <li>Entre en OpenCart como usuario administrador y elija el menú <strong>System &gt; Settings</strong>. En la fila de la tienda predeterminada <strong>Your store</strong>, haga clic en Edit.
              <p class="captura"><img alt="OpenCart. Traducción al español" src="../img/opencart/1_4_s_05_traduccion.png" width="1008" height="235" /></p>
            </li>
            <li>En la pestaña Local, configure Country, Region, Language, Administration language y Currency a los valores adecuados y haga clic en Save.
              <p class="captura"><img alt="OpenCart. Traducción al español" src="../img/opencart/1_4_s_06_traduccion.png" width="991" height="820" /></p>
            </li>
            <li>Al guardar la configuración local, OpenCart se verá inmediatamente en español:
              <p class="captura"><img alt="OpenCart. Traducción al español" src="../img/opencart/1_4_s_07_traduccion.png" width="1008" height="460" /></p>
            </li>
            <li>En el menú <strong>Sistema &gt; Localización &gt; Idiomas</strong> se puede comprobar que el español es ahora el idioma predeterminado.</li>
            <li>Si sólo se quiere deshabilitar el el idioma inglés, haga clic en Editar:
              <p class="captura"><img alt="OpenCart. Traducción al español" src="../img/opencart/1_4_s_08_traduccion.png" width="991" height="380" /></p>
            </li>
            <li>En la pantalla del idioma inglés cambie el campo Estado a Deshabilitado y haga clic en Guardar:
              <p class="captura"><img alt="OpenCart. Traducción al español" src="../img/opencart/1_4_s_09_traduccion.png" width="991" height="530" /></p>
            </li>
            <li>Salga de OpenCart como administrador y compruebe que ya no se puede elegir el idioma inglés en la página principal de Opencart:
              <p class="captura"><img alt="OpenCart. Traducción al español" src="../img/opencart/1_4_s_10_traduccion.png" width="991" height="120" /></p>
            </li>
            <li>Si la tienda tiene definidos varios idiomas, al crear elementos de la tienda (categorías, productos, etc.) se debe introducir la información en todos los idiomas (aunque se hayan deshabilitado). Para simplificar el trabajo, en estos ejercicios se propone eliminar el idioma inglés. Para eliminar un idioma, en <strong>Sistema &gt; Localización &gt; Idiomas</strong> marque el idioma y haga clic en Borrar:
              <p class="captura"><img alt="OpenCart. Traducción al español" src="../img/opencart/1_4_s_11_traduccion.png" width="991" height="380" /></p>
            </li>
            <li>En la lista de idiomas quedará únicamente el idioma Español:
              <p class="captura"><img alt="OpenCart. Traducción al español" src="../img/opencart/1_4_s_12_traduccion.png" width="991" height="385" /></p>
            </li>
          </ul>
        </li>
      </ol>
    </section>

    <section id="ejercicio-5">
      <h2>OpenCart (1) 5 - Copias de seguridad</h2>

      <section id="ejercicio-5-1">
        <h3>Copia de seguridad desde OpenCart</h3>

        <p class="incompleto"><img src="../varios/iconos/icono_en_construccion.svg" alt="En construcción" title="En construcción" width="55" height="48" />Por escribir</p>
      </section>

      <section id="ejercicio-5-2">
        <h3>Copia de seguridad desde phpMyAdmin</h3>

        <p class="incompleto"><img src="../varios/iconos/icono_en_construccion.svg" alt="En construcción" title="En construcción" width="55" height="48" />Por escribir</p>

      </section>
    </section>

    <section id="ejercicio-6">
      <h2>OpenCart (1) 6 - Acceder desde otros ordenadores</h2>

      <h3>Acceso con alias y dirección ip desde el propio ordenador o desde otro ordenador perteneciente a la misma red o desde una máquina virtual en el mismo ordenador</h3>

      <p>Edite los dos archivos de configuración config.php y admin/config.php y modififque las directivas HTTP_SERVER, HTTP_CATALOG, HTTPS_SERVER y HTTPS_CATALOG. Para poder recuperar en un futuro fácilmente el acceso mediante localhost y sin alias, se recomienda comentar las líneas existentes y añadir los nuevos valores en otras líneas.</p>

      <div class="codphp">
        <pre>/* config.php */
// HTTP
// define('HTTP_SERVER', 'http://localhost/iaw/aplicaciones/opencart_1/');
define('HTTP_SERVER', 'http://AAA.BBB.CCC.DDD/opencart/');

// HTTPS
// define('HTTPS_SERVER', 'http://localhost/iaw/aplicaciones/opencart_1/');
define('HTTPS_SERVER', 'http://AAA.BBB.CCC.DDD/opencart/');

 ...</pre>
      </div>

      <div class="codphp">
        <pre>/* admin/config.php */
// HTTP
// define('HTTP_SERVER', 'http://localhost/iaw/aplicaciones/opencart_1/admin/');
// define('HTTP_CATALOG', 'http://localhost/iaw/aplicaciones/opencart_1/');
define('HTTP_SERVER', 'http://AAA.BBB.CCC.DDD/opencart/admin/');
define('HTTP_CATALOG', 'http://AAA.BBB.CCC.DDD/opencart/');

// HTTPS
// define('HTTPS_SERVER', 'http://localhost/iaw/aplicaciones/opencart_1/admin/');
// define('HTTPS_CATALOG', 'http://localhost/iaw/aplicaciones/opencart_1/');
define('HTTPS_SERVER', 'http://AAA.BBB.CCC.DDD/opencart/admin/');
define('HTTPS_CATALOG', 'http://AAA.BBB.CCC.DDD/opencart/');

 ...</pre>
      </div>

    </section>

    <section id="ejercicio-7">
      <h2>OpenCart (1) 7 - Actualizar OpenCart</h2>

      <p class="incompleto"><img src="../varios/iconos/icono_en_construccion.svg" alt="En construcción" title="En construcción" width="55" height="48" />Por escribir</p>
    </section>

    <footer>
      <p class="ultmod">Última modificación de esta página: 13 de enero de 2017</p>

      <p class="licencia"><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES"><img alt="Licencia de Creative Commons" style="border-width:0" src="https://licensebuttons.net/l/by-sa/4.0/88x31.png" /></a><br />
        Esta página forma parte del curso <strong><a href="http://www.mclibre.org/consultar/webapps/">Aplicaciones web</a></strong> por <a href="http://www.mclibre.org/" rel="author">Bartolomé Sintes Marco</a><br />
        que se distribuye bajo una <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES">Licencia Creative Commons BY-SA 4.0</a>.</p>
    </footer>
  </body>
</html>
