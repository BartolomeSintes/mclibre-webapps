<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Ejercicios (2). Bitnami. Aplicaciones web. Bartolomé Sintes Marco. www.mclibre.org</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="../varios/webapps.css" title="mclibre" />
  <link rel="icon" href="../varios/favicon.ico" />
</head>

<body>
  <h1>Bitnami - Ejercicios (2) - Enunciados - Máquina virtual de infraestructura y módulos sobre Debian</h1>

  <nav>
    <p>
      <a href="../index.html"><img src="../varios/iconos/icono-webapps.svg" alt="Índice de WebApps" title="Índice de WebApps" width="48" height="31" /></a>
      <a href="#"><img src="../varios/iconos/icono-arrow-circle-up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36" /></a>
    </p>

    <div class="toc">
      <h2>
        <a href="bitnami-1.html"><img src="../varios/iconos/icono-flecha-izquierda.svg" alt="Anterior" title="Anterior" width="15" height="18" /></a> Bitnami (2)
        <a href="bitnami-3.html"><img src="../varios/iconos/icono-flecha-derecha.svg" alt="Siguiente" title="Siguiente" width="15" height="18" /></a>
      </h2>

      <h3><a href="#">Enunciados</a></h3>
      <ul>
        <li><a href="#ejercicio-1">1 - VM de infraestructura</a></li>
        <li><a href="#ejercicio-2">2 - phpMyAdmin</a></li>
        <li><a href="#ejercicio-3">3 - OpenCart</a></li>
      </ul>

      <h3><a href="bitnami-2-soluciones.html">Soluciones</a></h3>
      <ul>
        <li><a href="bitnami-2-soluciones.html#ejercicio-1">1 - VM de infraestructura</a></li>
        <li><a href="bitnami-2-soluciones.html#ejercicio-2">2 - phpMyAdmin</a></li>
        <li><a href="bitnami-2-soluciones.html#ejercicio-3">3 - OpenCart</a></li>
      </ul>
    </div>
  </nav>

  <p>En esta lección se proponen ejercicios para conocer y utilizar <strong>Bitnami</strong> instalando aplicaciones web en una máquina virtual de infraestructura. Se pueden consultar las <a href="bitnami-2-soluciones.html">soluciones de estos ejercicios de Bitnami (2)</a>, aunque se recomienda intentar realizarlos primero sin recurrir a estas soluciones.</p>

  <p>En estos ejercicios se nombran las versiones disponibles actualmente (enero de 2019), pero seguramente se podrán realizar sin problemas con versiones posteriores.</p>

  <p><strong>Nota:</strong> En estos ejercicios se propone únicamente la instalación de la aplicación OpenCart, pero se anima al alumno a probar otras aplicaciones.</p>

  <section id="ejercicio-1">
    <h2>Bitnami (2) 1 - VM de infraestructura</h2>

    <ol>
      <li>Visite la página web de Bitnami.</li>
      <li>Descargue la máquina virtual de infraestructura LAMP de Bitnami. Actualmente (enero de 2019), la versión disponible es LAMP 7.1.26-0 (64 bits) en una máquina virtual Debian 9.</li>
      <li>Importe la máquina virtual de infraestructura LAMP de Bitnami en VirtualBox.</li>
      <li>Arranque la máquina virtual.</li>
      <li>Compruebe en el navegador del ordenador anfitrión que puede ver la web del servidor, escribiendo la dirección http://AAA.BBB.CCC.DDD en la que AAA.BBB.CCC.DDD es la dirección IP de la máquina virtual.
        <p class="captura">
          <img src="../img/bitnami/2-1-e-1-vm-lamp.png" alt="Servidor web en la máquina virtual" width="991" height="370" />
        </p>
      </li>
      <li>Compruebe en el navegador del ordenador anfitrión que no hay aplicaciones instaladas.
        <p class="captura">
          <img src="../img/bitnami/2-1-e-2-vm-lamp.png" alt="Aplicaciones instaladas en la máquina virtual" width="991" height="400" />
        </p>
      </li>
    </ol>
  </section>

  <section id="ejercicio-2">
    <h2>Bitnami (2) 2 - phpMyAdmin</h2>

    <p>Documentación de Bitnami:</p>

    <ul>
      <li>phpMyAdmin:
        <a href="https://docs.bitnami.com/virtual-machine/components/phpmyadmin/">en máquina virtual</a> -
        <a href="https://docs.bitnami.com/installer/components/phpmyadmin/">en instalador</a>
      </li>
      <li>SSH: <a href="https://docs.bitnami.com/virtual-machine/faq/#how-to-enable-the-ssh-server">en máquina virtual</a></li>
    </ul>

    <ol>
      <li>Compruebe que no puede acceder la aplicación phpMyAdmin instalada en la máquina virtual:
        <p class="captura">
          <img src="../img/bitnami/2-2-e-1-phpmyadmin.png" alt="Acceso prohibido a phpMyAdmin" width="1024" height="150" />
        </p>
      </li>
      <li>En la página inicial de la web de la máquina virtual se encuentra un enlace a la documentación de Bitnami sobre phpMyAdmin::
        <p class="captura">
          <img src="../img/bitnami/2-2-e-2-phpmyadmin.png" alt="Enlace a documentación phpMyAdmin" width="991" height="370" />
        </p>
        <p class="captura">
          <img src="../img/bitnami/2-2-e-3-phpmyadmin.png" alt="Documentación de Bitnami" width="1022" height="350" />
        </p>
      </li>
      <li>En esa documentación se explica qué por motivos de seguridad sólo se permite conectarse a phpMyAdmin con direcciones locales (127.0.0.1) y que desde otros equipos debe hacerse a través de un túnel SSH (127.0.0.1:8888). Compruebe que sin abrir el túnel tampoco puede realizar la conexión desde el ordenador anfitrión:
        <p class="captura">
          <img src="../img/bitnami/2-2-e-4-phpmyadmin.png" alt="Acceso prohibido a phpMyAdmin" width="1024" height="270" />
        </p>
      </li>
      <li>Configure la máquina virtual y el ordenador anfitrión siguiendo las instrucciones de la documentación de Bitnami, de manera que pueda acceder al phpMyAdmin que está instalado en la máquina virtual a través de un túnel SSH:

        <p class="captura">
          <img src="../img/bitnami/2-2-e-5-phpmyadmin.png" alt="login de phpMyAdmin" width="1024" height="350" />
        </p>

        <p>Si tiene problemas para seguir las instrucciones de la documentación de Bitnami, los pasos siguientes resumen esas instrucciones. En caso necesario, puede consultar la lección <a href="bitnami-varios.html">Bitnami Varios</a> y las <a href="bitnami-2-soluciones.html#ejercicio-2">soluciones Bitnami (2)</a>, que explican cómo realizar esos pasos.</p>

        <p>Realice los siguientes pasos en la máquina virtual:</p>

        <ul>
          <li>Entre en la máquina virtual LAMP</li>
          <li>Por comodidad, reconfigure el teclado al teclado español</li>
          <li>Compruebe si el servicio SSH está habilitado y habilítelo en caso necesario</li>
        </ul>

        <p>Realice los siguientes pasos en el ordenador anfitrión:</p>

        <ul>
          <li>Instale PuTTY en el ordenador anfitrión</li>
          <li>Configure, guarde una sesión de PuTTY con los siguientes parámetros y abra la sesión:
            <ul>
              <li>Session &gt; Host name: IP de la máquina virtual</li>
              <li>Session &gt; Port: 22</li>
              <li>Session &gt; Saved Sessions: Bitnami Lampstack (por ejemplo)</li>
              <li>Session &gt; Save</li>
              <li>Connection &gt; Data &gt; Auto log-in username: bitnami</li>
              <li>Connection &gt; SSH &gt; Tunnels &gt; Source port: 8888</li>
              <li>Connection &gt; SSH &gt; Tunnels &gt; Destination: localhost:80</li>
              <li>Connection &gt; SSH &gt; Tunnels &gt; Add</li>
              <li>Session &gt; Save</li>
              <li>Session &gt; Open</li>
            </ul>
          </li>
        </ul>

        <p>Ahora debería poder conectar a phpMyAdmin desde el ordenador anfitrión:</p>

        <p class="captura">
          <img src="../img/bitnami/2-2-e-5-phpmyadmin.png" alt="login de phpMyAdmin" width="1024" height="340" />
        </p>
        <p class="captura">
          <img src="../img/bitnami/2-2-e-6-phpmyadmin.png" alt="login de phpMyAdmin" width="1024" height="310" />
        </p>
        <p>El usuario administrador predeterminado de la base de datos es <strong>root</strong>, con la contraseña que se muestra en la pantalla inicial de la máquina virtual (aunque a veces, no sé por qué la contraseña es simplemente <strong>bitnami</strong>).</p>
      </li>
    </ol>
  </section>

  <section id="ejercicio-3">
    <h2>Bitnami (2) 3 - OpenCart</h2>
    <ol>
      <li>Descargue e instale el módulo de OpenCart.
        <p>En el ordenador anfitrión</p>
        <ul>
          <li>Abra la página de Bitnami correspondiente al <strong>módulo</strong> de OpenCart para Linux, no al del stack de aplicación.</li>
          <li>Copie el enlace al módulo (https://bitnami ... installer.run), que ocupa unos 20 MB aproximadamente.</li>
        </ul>
        <p>En la máquina virtual</p>
        <ul>
          <li>Vaya a un directorio temporal</li>
          <li>Descargue con wget el módulo de OpenCart</li>
          <li>De permisos de ejecución al archivo descargado (bitnami-opencart-....-installer.run)</li>
          <li>Ejecute el archivo</li>
          <li>En la instalación tenga en cuenta que
            <p>El directorio donde se instalan los servidores es <strong>/opt/bitnami</strong>.</p>
            <p>La contraseña predeterminada de MySQL es la indicada en la pantalla inicial de la máquina virtual (o a veces, simplemente <strong>bitnami</strong>). Escriba la contraseña que le ha permitido entrar en phpMyAdmin en el ejercicio anterior.</p>
            <p>La contraseña predeterminada del usuario de la aplicación es la misma que la de la base de datos.</p>
            <p>La IP del servidor es la de la máquina virtual (que se muestra en la pantalla inicial).</p>
          </li>
        </ul>
      </li>
      <li>Compruebe en el navegador del ordenador anfitrión que OpenCart aparece en la lista de aplicaciones instaladas
        <p class="captura">
          <img src="../img/bitnami/2-3-e-1-opencart.png" alt="OpenCart en la lista de aplicaciones de la máquina virtual" width="991" height="390" />
        </p>
      </li>
      <li>Compruebe que la tienda de ejemplo funciona correctamente.
        <ul>
          <li>Compruebe en el navegador del ordenador anfitrión que puede ver la tienda de ejemplo de OpenCart, escribiendo la dirección <strong>http://AAA.BBB.CCC.DDD/opencart</strong> en la que AAA.BBB.CCC.DDD es la dirección IP de la máquina virtual.
            <p class="captura">
              <a href="../img/bitnami/2-3-e-2-opencart.jpg">
               <img src="../img/bitnami/2-3-e-2-opencart-mini.jpg" alt="Tienda OpenCart en la máquina virtual" width="495" height="275" />
              </a>
            </p>
          </li>
          <li>Compruebe en el navegador del ordenador anfitrión que puede acceder como administrador de la tienda OpenCart escribiendo la dirección adecuada.
            <p class="captura">
              <a href="../img/bitnami/2-3-e-3-opencart.png">
                <img src="../img/bitnami/2-3-e-3-opencart-mini.png" alt="Administración de OpenCart en la máquina virtual" width="495" height="275" />
              </a>
            </p>
            <p class="captura">
              <a href="../img/bitnami/2-3-e-4-opencart.png">
                <img src="../img/bitnami/2-3-e-4-opencart-mini.png" alt="Administración de OpenCart en la máquina virtual" width="495" height="275" />
              </a>
            </p>
            <p><img src="../varios/iconos/icono-warning.svg" alt="¡Atención!" width="55" height="48" /><strong>Nota</strong>: El navegador mostrará un aviso sobre el certificado de seguridad del sitio web</p>
          </li>

        </ul>
      </li>
      <li>Compruebe que apagando y encendiendo la máquina virtual la tienda de ejemplo sigue funcionando correctamente.</li>
    </ol>
  </section>

  <footer>
    <p class="ultmod">Última modificación de esta página: 31 de enero de 2019</p>

    <p class="licencia">
      <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES"><img src="../varios/iconos/icono-cc-by-sa.svg" alt="Licencia Creative Commons" title="Licencia Creative Commons BY-SA" width="120" height="42" /></a><br />
      Esta página forma parte del curso <strong><a href="http://www.mclibre.org/consultar/webapps/">Aplicaciones web</a></strong> por <a href="http://www.mclibre.org/" rel="author">Bartolomé Sintes Marco</a><br />
      que se distribuye bajo una <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES">Licencia Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional (CC BY-SA 4.0)</a>.
    </p>
  </footer>
</body>
</html>
